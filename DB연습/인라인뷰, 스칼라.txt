SELECT EMPNO, ENAME
FROM (SELECT EMPNO, ENAME, JOB FROM EMP WHERE DEPTNO IN (10,20))
-- FROM절에 있는게 가상의 테이블
-- 가상 테이블에 실제 데이터는 EMPNO, ENAME, JOB뿐 여기 있는 데이터만 조회 가능함


SELECT E.EMPNO, E.ENAME, D.DNAME
FROM (SELECT EMPNO, ENAME, JOB, SAL, DEPTNO
		FROM EMP WHERE DEPTNO IN (10,20)) E, --FROM절에 여러개의 테이블을 넣을 수 있다
		(SELECT * FROM DEPT) D
WHERE E.DEPTNO = D.DEPTNO AND E.SAL >= 2000;




WITH
E AS (SELECT EMPNO, ENAME, JOB, SAL, DEPTNO
		FROM EMP WHERE DEPTNO IN (10,20)),
D AS (SELECT * FROM DEPT)
SELECT E.EMPNO, E.ENAME, D.DNAME
FROM E,D
WHERE E.DEPTNO = D.DEPTNO AND E.SAL >= 2000;



-- 30번 부서의 최소 급여보다 많이 받는 직원 목록
SELECT * FROM EMP
WHERE SAL > (SELECT MIN(SAL) FROM EMP WHERE DEPTNO=30);

-- 부서별 최소 급여보다 많이 받는 직원 목록
-- 같은 테이블끼리 비교라 별칭 필요
SELECT * FROM EMP E1
WHERE SAL >(SELECT MIN(SAL) FROM EMP E2 WHERE E1.DEPTNO = E2.DEPTNO);


SELECT EMPNO, ENAME,
(SELECT DNAME FROM DEPT D WHERE D.DEPTNO = E.DEPTNO) DNAME
FROM EMP E;
-- 각 레코드마다 각각 실행되기 때문에 좋은코드가 아니다 성능 xx
