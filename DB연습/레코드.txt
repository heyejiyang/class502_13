DECLARE
	TYPE REC_DEPT IS RECORD(
		DEPTNO DEPT.DEPTNO%TYPE,
		DNAME DEPT.DNAME%TYPE,
		LOC DEPT.LOC%TYPE
	);
	DEPT_DATA REC_DEPT;
BEGIN
	DEPT_DATA.DEPTNO := 99;
	DEPT_DATA.DNAME := 'DATABASE';
	DEPT_DATA.LOC := 'SEOUL';

	DBMS_OUTPUT.PUT_LINE('DEPTNO: '|| DEPT_DATA.DEPTNO);
	DBMS_OUTPUT.PUT_LINE('DNAME: '|| DEPT_DATA.DNAME);
	DBMS_OUTPUT.PUT_LINE('LOC: '|| DEPT_DATA.LOC);
END;
/*
DEPTNO: 99
DNAME: DATABASE
LOC: SEOUL
*/

---

CREATE TABLE DEPT_RECORD AS SELECT * FROM DEPT;

SELECT * FROM DEPT_RECORD;

----
DECLARE
	TYPE REC_DEPT IS RECORD(
		DEPTNO DEPT.DEPTNO%TYPE,
		DNAME DEPT.DNAME%TYPE,
		LOC DEPT.LOC%TYPE
	);
	-- DEPT_DATA 변수 선언
	DEPT_DATA REC_DEPT;
BEGIN
	DEPT_DATA.DEPTNO := 99;
	DEPT_DATA.DNAME := 'DATABASE';
	DEPT_DATA.LOC := 'SEOUL';
	
	INSERT INTO DEPT_RECORD VALUES DEPT_DATA;
END;

---

DECLARE
	TYPE REC_DEPT IS RECORD(
		DEPTNO DEPT.DEPTNO%TYPE,
		DNAME DEPT.DNAME%TYPE,
		LOC DEPT.LOC%TYPE
	);
	-- DEPT_DATA 변수 선언
	DEPT_DATA REC_DEPT;
BEGIN
	DEPT_DATA.DEPTNO := 99;
	DEPT_DATA.DNAME := 'DATABASE';
	DEPT_DATA.LOC := 'INCHEON';
	
	--INSERT INTO DEPT_RECORD VALUES DEPT_DATA;
	UPDATE DEPT_RECORD
		SET ROW = DEPT_DATA
	WHERE DEPTNO = 99;
END;
----

DECLARE 
	TYPE REC_DEPT IS RECORD(
		DEPTNO DEPT.DEPTNO%TYPE,
		DNAME DEPT.DNAME%TYPE,
		LOC DEPT.LOC%TYPE
	);
	
	TYPE REC_EMP IS RECORD(
		EMPNO EMP.EMPNO%TYPE,
		ENAME EMP.ENAME%TYPE,
		DINFO REC_DEPT
	);

	EMP_DATA REC_EMP;
BEGIN 
	SELECT E.EMPNO, E.ENAME, D.DEPTNO, D.DNAME, D.LOC
		INTO 
			EMP_DATA.EMPNO,
			EMP_DATA.ENAME,
			EMP_DATA.DINFO.DEPTNO,
			EMP_DATA.DINFO.DNAME,
			EMP_DATA.DINFO.LOC
	FROM EMP E, DEPT D 
	WHERE E.DEPTNO = D.DEPTNO AND E.ENAME='SCOTT';

	DBMS_OUTPUT.PUT_LINE('EMPNO : ' || EMP_DATA.EMPNO);
	DBMS_OUTPUT.PUT_LINE('ENAME : ' || EMP_DATA.ENAME);
	DBMS_OUTPUT.PUT_LINE('DEPTNO : ' || EMP_DATA.DINFO.DEPTNO);
	DBMS_OUTPUT.PUT_LINE('DNAME : ' || EMP_DATA.DINFO.DNAME);
	DBMS_OUTPUT.PUT_LINE('LOC : ' || EMP_DATA.DINFO.LOC);
END; 


---


DECLARE
	TYPE TYPE1 IS TABLE OF VARCHAR2(20)
	INDEX BY PLS_INTEGER;

	TEXT_ARR TYPE1;
BEGIN 
	TEXT_ARR(1) := '첫번째';
	TEXT_ARR(2) := '두번째';
	TEXT_ARR(3) := '세번째';
	TEXT_ARR(4) := '네번째';

	FOR i IN 1..4 LOOP
		DBMS_OUTPUT.PUT_LINE('TEXT_ARR(' || i || ') : ' || TEXT_ARR(i));
	END LOOP;
END; 


